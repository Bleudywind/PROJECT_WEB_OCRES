'use strict';

var fs = require('fs');

module.exports = {
  eraseProjectDirectories: function eraseProjectDirectories(projectSlug, projectName) {
    var helpers = require('./');

    return new Promise(function (resolve, reject) {
      var msg;
      var folderName;

      if (projectName && fs.existsSync(projectName)) {
        folderName = projectName;
        msg = "It will erase data in ".concat(projectName, ". Continue?");
      } else if (!projectName && fs.existsSync(projectSlug)) {
        folderName = projectSlug;
        msg = "It will erase data in ".concat(projectSlug, ". Continue?");
      } else {
        resolve();
        return;
      }

      var message = {
        Status: 'OK',
        Message: 'OK, will not delete existing project.'
      };
      helpers.showConfirmationPrompt(msg).then(function (answer) {
        return answer ? helpers.removeFolder(folderName).then(function () {
          return resolve();
        })["catch"](function () {
          return reject();
        }) : reject(message);
      })["catch"](reject);
    });
  }
};